<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Government Scheme Eligibility Checker</title>
    <meta name="description" content="Check eligibility for government schemes like PM Kisan, Ayushman Bharat, Awas Yojana, and more!" />
    <meta name="keywords" content="Government Scheme Eligibility Checker, PM Kisan, Ayushman Bharat, Subsidy Checker" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body { background-color: #f8f9fa; }
        .calculator-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="calculator-container">
        <h2 class="mb-4 text-center">Government Scheme Eligibility Checker</h2>
        
        <form id="eligibilityForm" class="row g-3">
            <div class="col-md-6">
                <label for="age" class="form-label">Age</label>
                <input type="number" class="form-control" id="age" required>
            </div>
            
            <div class="col-md-6">
                <label for="income" class="form-label">Annual Income (â‚¹)</label>
                <input type="number" class="form-control" id="income" required>
            </div>

            <div class="col-md-4">
                <label for="caste" class="form-label">Caste</label>
                <select class="form-select" id="caste" required>
                    <option value="General">General</option>
                    <option value="OBC">OBC</option>
                    <option value="SC">SC</option>
                    <option value="ST">ST</option>
                    <option value="EWS">EWS</option>
                </select>
            </div>

            <div class="col-md-4">
                <label for="gender" class="form-label">Gender</label>
                <select class="form-select" id="gender" required>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                </select>
            </div>

            <div class="col-md-4">
                <label for="profession" class="form-label">Profession</label>
                <select class="form-select" id="profession" required>
                    <option value="">Select Profession</option>
                    <option value="Farmer">Farmer</option>
                    <option value="Student">Student</option>
                    <option value="Self Employed">Self Employed</option>
                    <option value="Salaried">Salaried</option>
                    <option value="Unemployed">Unemployed</option>
                </select>
            </div>

            <!-- Education Level (Only for Students) -->
            <div class="col-md-6 hidden" id="education-level-field">
                <label for="educationLevel" class="form-label">Education Level</label>
                <select class="form-select" id="educationLevel">
                    <option value="">Select Level</option>
                    <option value="Primary">Primary (1-5)</option>
                    <option value="Middle">Middle (6-8)</option>
                    <option value="HighSchool">High School (9-10)</option>
                    <option value="HigherSecondary">Higher Secondary (11-12)</option>
                    <option value="Undergraduate">Undergraduate</option>
                    <option value="Postgraduate">Postgraduate</option>
                </select>
            </div>

            <!-- Farmer Landholding (Only for Farmers) -->
            <div class="col-md-6 hidden" id="farmer-landholding-field">
                <label for="farmerLand" class="form-label">Farmer Land Holding</label>
                <select class="form-select" id="farmerLand">
                    <option value="">Select Land Holding</option>
                    <option value="small">Small Farmer (Less than 2 hectares)</option>
                    <option value="medium">Medium Farmer (2-5 hectares)</option>
                    <option value="large">Large Farmer (More than 5 hectares)</option>
                </select>
            </div>

            <div class="col-12 text-center">
                <button type="submit" class="btn btn-primary me-2">Check Eligibility</button>
                <button type="reset" class="btn btn-secondary">Reset</button>
            </div>
        </form>

        <div id="results" class="mt-4"></div>
    </div>

    <script>
        fetch('schemes.json')
  .then(response => response.json())
  .then(data => {
    let schemeList = document.getElementById("scheme-list");
    data.schemes.forEach(scheme => {
      let listItem = document.createElement("li");
      listItem.innerHTML = `<strong>${scheme.name}</strong> - ${scheme.benefits} 
      <br> <a href="${scheme.link}" target="_blank">More Info</a>`;
      schemeList.appendChild(listItem);
    });
  })
  .catch(error => console.error("Error loading schemes:", error));


        document.getElementById('eligibilityForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const age = parseInt(document.getElementById('age').value);
            const income = parseInt(document.getElementById('income').value);
            const profession = document.getElementById('profession').value;
            const landHolding = document.getElementById('farmerLand').value;

            let eligibleSchemes = schemes.filter(scheme => {
                if (scheme.profession !== profession) return false;
                if (scheme.incomeLimit && income > scheme.incomeLimit) return false;
                if (scheme.profession === "Farmer" && (!scheme.landHolding.includes(landHolding))) return false;
                return true;
            });

            let resultHTML = "<h4>Eligible Schemes:</h4>";

            if (eligibleSchemes.length > 0) {
                eligibleSchemes.forEach(scheme => {
                    resultHTML += `<p>${scheme.name} - <a href="${scheme.applyLink}" target="_blank" class="btn btn-success btn-sm">Apply Now</a></p>`;
                });
            } else {
                resultHTML += "<p class='alert alert-danger'>No schemes found based on your details.</p>";
            }

            document.getElementById('results').innerHTML = resultHTML;
        });
    </script>
</body>
</html>
